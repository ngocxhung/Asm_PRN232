@*
  File: Pages/Shared/_UserLayout.cshtml
*@
@{
    var isLoggedIn = Context.Session.GetString("JWToken") != null;
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>@ViewData["Title"]</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    @await RenderSectionAsync("Styles", required: false)
</head>
<body>
    <header class="bg-primary text-white py-3 mb-4">
        <div class="container d-flex justify-content-between align-items-center">
            <a href="/UserPage/Home" class="text-white text-decoration-none h4 mb-0">Thư viện Online</a>
            <nav>
                <a href="/UserPage/Home" class="text-white me-3">Trang chủ</a>
                <a href="/UserPage/Books" class="text-white me-3">Sách</a>
                <a href="/UserPage/CurrentBorrows" class="text-white me-3">Sách đang mượn</a>
                <a href="/UserPage/Fines" class="text-white me-3">Phạt</a>
                @if (!isLoggedIn)
                {
                    <a href="/Login" class="btn btn-light btn-sm">Đăng nhập</a>
                }
                else
                {
                    <form method="post" action="/Logout" style="display:inline">
                        <button type="submit" class="btn btn-light btn-sm">Đăng xuất</button>
                    </form>
                }
            </nav>
        </div>
    </header>
    <main class="container pb-4">
        @RenderBody()
    </main>
    <footer class="bg-light text-center py-3 border-top mt-4">
        <div class="container">
            &copy; 2025 - Thư viện Online. Mọi quyền được bảo lưu.
        </div>
    </footer>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html> 